/* OGX.JS FlexCells@1.0.4 */
require("FlexCells","Uxi","Template","Touch","Placeholder");OGX.FlexCells=function(i){construct(this,"FlexCells");"use strict";var t=this;var e={axis:"x",min:10,template:null,children:["50%","30%","20%"]};var c=OGX.Data.merge(i,e,false);var n=this.el;var r={x:0,y:0,m:0};var x=null;this.construct=function(){};this.ux=function(e){if(e){}else{}};function l(){var e="";for(var l=0;l<c.children.length;l++){e+='<span class="ogx_flex_cell" data-cell="'+l+'" style="flex-basis:'+c.children[l]+'"></span>';if(l<c.children.length-1){e+='<span class="ogx_flex_cell_resize"></span>'}}n.html(e)}function s(e){x=$(e.target);r.x=0;r.y=0;r.m=0}function a(e){var l;if(i.axis==="x"){l=(e.distX-r.m)*100/n.width();r.m=e.distX}else{l=(e.distY-r.m)*100/n.height();r.m=e.distY}var s=Number(x.prev().css("flex-basis").split("%")[0]);var a=Number(x.next().css("flex-basis").split("%")[0]);if(s+l>c.min&&a-l>c.min){x.prev().css("flex-basis",s+l+"%");x.next().css("flex-basis",a-l+"%");setTimeout(()=>t.resizeNodes,5)}}function f(){var e={id:"move",min:0,target:".ogx_flex_cell_resize",cb_down:s,cb_move:a,capture:true};if(c.axis==="x"){e.x=true}else{e.y=true}t.touch.add("Move",e)}function o(){var e=n.children();var s=e.length;e.each(function(e,l){$(l).addClass("ogx_flex_cell").attr("data-cell",e).css("flex-basis",c.children[e]);if(e<s-1){$(l).after('<span class="ogx_flex_cell_resize"></span>')}})}function d(){var e=[];for(var l=0;l<c["node:OML"].length;l++){for(var s in c["node:OML"][l]){e.push('.ogx_flex_cells[data-ogx-id="'+t.id+'"] > .ogx_flex_cell[data-cell="'+l+'"]')}}t.placeholders(c,e)}function u(){n.addClass("ogx_flex_cells");if(c.axis==="x"){n.addClass("ogx_flex_cells_row")}else{n.addClass("ogx_flex_cells_col")}if(c.template){o()}d();if(!c.template){l()}f()}u()};